<!--
* @Author: Mehaei
* @Date:   2020-08-06 16:24:48
* @Last Modified by:   Mehaei
* @Last Modified time: 2020-08-13 18:23:56
* @E-mail: mshuaiwei@gmail.com
-->

{% extends 'base.html' %} #继承base.html

{% block title %} Config {% end %}

{% block content %}
<div class="container" style="margin-top: 5%">
    <form method="POST" action="/config">
        {% for conf_name, conf_value in config.items() %}

            {% if conf_name == "RootPass" %}
                <div class="form-group">
                    <label for="RootPass">Root Password</label>
                    <input type="password" name="RootPass", class="form-control" id="RootPass" aria-describedby="RootPassHelp" value="{{ conf_value }}" oninput="ConfigChange()">
                    <small id="RootPassHelp" class="form-text text-muted">root password</small>
                </div>
            {% elif conf_name == "GitProjectDir" %}
                <div class="form-group">
                    <label for="GitProjectDir">Git Project</label>
                    <input type="text" name="GitProjectDir", class="form-control" id="GitProjectDir" aria-describedby="GitDirHelp" value="{{ conf_value }}" oninput="ConfigChange()">
                    <small id="GitDirHelp" class="form-text text-muted">git project root dir path</small>
                </div>
            <!-- 
            <div class="form-group form-check">
                <input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1">Check me out</label>
            </div> -->
            {% end %}
        {% end %}
        <button type="submit" class="btn btn-secondary update-config" disabled>Update Config</button>
        <button class="btn btn-primary" onclick="window.location.href='/project_list'" type="button">Login System</button>
    </form>
</div>

{% end %}

{% block js %}
<script>
    function ConfigChange(){
        $("button.update-config").removeClass("btn-secondary").removeAttr("disabled").addClass("btn-primary")
     }
</script>

{% end %}